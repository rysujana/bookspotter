{% extends 'base.html' %}
{% block title %}Search Results - BookSpotter{% endblock %}
{% block content %}
{% load static %}
<div class="absolute top-0 left-0 w-screen h-140">
   <img src="{% static 'banner.png' %}" class="w-full object-cover h-full">
   <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center text-white z-10">
      <p class="text-3xl font-bold">
         Discover a World of Knowledge with BookSpotter
      </p>
      <div class="mt-8">
         <form action="/search" method="GET">
            <input type="text" name="query" placeholder="Search for books, authors, and more" class="px-4 py-2 rounded-md border-none shadow-md w-10/12 text-black">
            <button type="submit" class="ml-2 px-4 py-2 text-white rounded-md bg-blue-800">Search</button>
         </form>
      </div>
   </div>
   <div class="absolute left-1/2 transform -translate-x-1/2 mx-auto max-w-5xl">
      <div class="flex -mt-16 bg-white rounded-lg shadow-md">
         <div class="p-4">
            <img src="https://picsum.photos/600/300" alt="Book Cover 1" class="mb-2 rounded-md w-full h-40 object-cover">
            <h2 class="text-lg font-semibold">Book Title 1</h2>
            <p class="text-sm mt-2">Author Name</p>
         </div>
         <div class="p-4">
            <img src="https://picsum.photos/600/301" alt="Book Cover 2" class="mb-2 rounded-md w-full h-40 object-cover">
            <h2 class="text-lg font-semibold">Book Title 2</h2>
            <p class="text-sm mt-2">Author Name</p>
         </div>
         <div class="p-4">
            <img src="https://picsum.photos/600/302" alt="Book Cover 3" class="mb-2 rounded-md w-full h-40 object-cover">
            <h2 class="text-lg font-semibold">Book Title 3</h2>
            <p class="text-sm mt-2">Author Name</p>
         </div>
      </div>
      <div class="container relative mx-auto mt-8">
         <h2 class="text-2xl font-semibold mb-4 text-center">Search Results</h2>
         {% if query_result %}
         <div class="flex justify-end items-center">
            <h6 class="font-semibold mr-4">Urutkan:</h6>
            <div x-data="{ open: false }" class="relative inline-block text-left">
               <button @click="open = !open" class="inline-flex justify-center items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring focus:border-blue-300 focus:ring-blue-200 active:bg-gray-200 active:text-gray-800 transition ease-in-out duration-150">
                   Abjad (A-Z)
                   <svg class="-mr-1 ml-2 h-5 w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                       <path fill-rule="evenodd" d="M10 12l-8-8 1.5-1.5L10 9l6.5-6.5L18 4l-8 8z" clip-rule="evenodd" />
                   </svg>
               </button>
           
               <div x-show="open" class="origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5">
                   <div class="py-1">
                       <a @click="open = false" href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Ascending</a>
                       <a @click="open = false" href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Descending</a>
                   </div>
               </div>
           </div>           
          </div>             
         <div class="flex justify-start flex-wrap">
            {% for book in query_result %}
            <div class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/4 p-4">
               <div class="card">
                  <div class="aspect-w-856 aspect-h-1360">
                     <img src="{{ book.image|default:'http://lgimages.s3.amazonaws.com/nc-md.gif' }}" alt="{{ book.title }}" class="rounded-md object-cover">
                 </div>
                 <h2 class="text-base font-semibold line-clamp-2">{{ book.title }}</h2>
                  <p class="text-sm mt-2 text-gray-600">{{ book.authors }}</p>
               </div>
            </div>
            {% endfor %}
         </div>
      </div>
      <div class="text-center mt-2 mb-4">
         <button id="loadMoreBtn" class="px-4 py-2 text-white rounded-md bg-blue-800">Load More</button>
      </div>
      {% else %}
      <p class="text-center text-lg mt-8">
         No results for "{{ request.GET.query|default:'' }}".
      </p>
      <p class="text-center text-lg">
         Try checking your spelling or use more general terms.
      </p>
      {% endif %}
   </div>
</div>
{% endblock %}
